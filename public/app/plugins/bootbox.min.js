!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.bootbox=t(e.jQuery)}(this,function e(t,n){"use strict";function o(e){var t=y[g.locale];return t?t[e]:y.en[e]}function s(e,n,o){e.stopPropagation(),e.preventDefault();var s=t.isFunction(o)&&o.call(n,e)===!1;s||n.modal("hide")}function r(e){var t,n=0;for(t in e)n++;return n}function a(e,n){var o=0;t.each(e,function(e,t){n(e,t,o++)})}function i(e){var n,o;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},g,e),e.buttons||(e.buttons={}),n=e.buttons,o=r(n),a(n,function(e,s,r){if(t.isFunction(s)&&(s=n[e]={callback:s}),"object"!==t.type(s))throw new Error("button with key "+e+" must be an object");s.label||(s.label=e),s.className||(2>=o&&r===o-1?s.className="btn-primary":s.className="btn-default")}),e}function p(e,t){var n=e.length,o={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(o[t[0]]=e[0],o[t[1]]=e[1]):o=e[0],o}function u(e,n,o){return t.extend(!0,{},e,p(n,o))}function l(e,t,n,o){var s={className:"bootbox-"+e,buttons:c.apply(null,t)};return d(u(s,o,n),t)}function c(){for(var e={},t=0,n=arguments.length;n>t;t++){var s=arguments[t],r=s.toLowerCase(),a=s.toUpperCase();e[r]={label:o(a)}}return e}function d(e,t){var o={};return a(t,function(e,t){o[t]=!0}),a(e.buttons,function(e){if(o[e]===n)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='close-modal' data-dismiss='modal'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},g={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},h={};h.alert=function(){var e;if(e=l("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback.call(this):!0},h.dialog(e)},h.confirm=function(){var e;if(e=l("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return h.dialog(e)},h.prompt=function(){var e,o,s,r,i,p,l;if(r=t(f.form),o={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},e=d(u(o,arguments,["title","callback"]),["cancel","confirm"]),p=e.show===n?!0:e.show,e.message=r,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=i.val();break;case"checkbox":var o=i.find("input:checked");n=[],a(o,function(e,o){n.push(t(o).val())})}return e.callback.call(this,n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!f.inputs[e.inputType])throw new Error("invalid prompt type");switch(i=t(f.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(e.value);break;case"select":var g={};if(l=e.inputOptions||[],!t.isArray(l))throw new Error("Please pass an array of input options");if(!l.length)throw new Error("prompt with select requires options");a(l,function(e,o){var s=i;if(o.value===n||o.text===n)throw new Error("given options in wrong format");o.group&&(g[o.group]||(g[o.group]=t("<optgroup/>").attr("label",o.group)),s=g[o.group]),s.append("<option value='"+o.value+"'>"+o.text+"</option>")}),a(g,function(e,t){i.append(t)}),i.val(e.value);break;case"checkbox":var y=t.isArray(e.value)?e.value:[e.value];if(l=e.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");i=t("<div/>"),a(l,function(n,o){var s=t(f.inputs[e.inputType]);s.find("input").attr("value",o.value),s.find("label").append(o.text),a(y,function(e,t){t===o.value&&s.find("input").prop("checked",!0)}),i.append(s)})}return e.placeholder&&i.attr("placeholder",e.placeholder),e.pattern&&i.attr("pattern",e.pattern),e.maxlength&&i.attr("maxlength",e.maxlength),r.append(i),r.on("submit",function(e){e.preventDefault(),e.stopPropagation(),s.find(".btn-primary").click()}),s=h.dialog(e),s.off("shown.bs.modal"),s.on("shown.bs.modal",function(){i.focus()}),p===!0&&s.modal("show"),s},h.dialog=function(e){e=i(e);var o=t(f.dialog),r=o.find(".modal-dialog"),p=o.find(".modal-body"),u=e.buttons,l="",c={onEscape:e.onEscape};if(t.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(a(u,function(e,t){l+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",c[e]=t.callback}),p.find(".bootbox-body").html(e.message),e.animate===!0&&o.addClass("fade"),e.className&&o.addClass(e.className),"large"===e.size?r.addClass("modal-lg"):"small"===e.size&&r.addClass("modal-sm"),e.title&&p.before(f.header),e.closeButton){var d=t(f.closeButton);e.title?o.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(p)}return e.title&&o.find(".modal-title").html(e.title),l.length&&(p.after(f.footer),o.find(".modal-footer").html(l)),o.on("hidden.bs.modal",function(e){e.target===this&&o.remove()}),o.on("shown.bs.modal",function(){o.find(".btn-primary:first").focus()}),"static"!==e.backdrop&&o.on("click.dismiss.bs.modal",function(e){o.children(".modal-backdrop").length&&(e.currentTarget=o.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&o.trigger("escape.close.bb")}),o.on("escape.close.bb",function(e){c.onEscape&&s(e,o,c.onEscape)}),o.on("click",".modal-footer button",function(e){var n=t(this).data("bb-handler");s(e,o,c[n])}),o.on("click",".bootbox-close-button",function(e){s(e,o,c.onEscape)}),o.on("keyup",function(e){27===e.which&&o.trigger("escape.close.bb")}),t(e.container).append(o),o.modal({backdrop:e.backdrop?"static":!1,keyboard:!1,show:!1}),e.show&&o.modal("show"),o},h.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(g,e)},h.hideAll=function(){return t(".bootbox").modal("hide"),h};var y={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return h.addLocale=function(e,n){return t.each(["OK","CANCEL","CONFIRM"],function(e,t){if(!n[t])throw new Error("Please supply a translation for '"+t+"'")}),y[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},h},h.removeLocale=function(e){return delete y[e],h},h.setLocale=function(e){return h.setDefaults("locale",e)},h.init=function(n){return e(n||t)},h});
